<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì˜ˆì•½ ìƒì„¸ ì •ë³´</title>
    <style>
        .main-container { max-width: 600px; margin: 30px auto; border: 1px solid #ddd; padding: 20px; border-radius: 10px; font-family: 'Noto Sans KR', sans-serif;}
        h2 { text-align: center; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .info-group { margin-bottom: 15px; }
        .info-label { font-weight: bold; display: inline-block; width: 120px; color: #555; }
        .info-value { display: inline-block; font-size: 1.1em; }
        .status-badge { display: inline-block; padding: 5px 10px; border-radius: 15px; font-weight: bold; color: white; background-color: gray; }

        .status-0 { background-color: #28a745; }
        .status-1 { background-color: #17a2b8; }
        .status-2 { background-color: #dc3545; }
        .status-3 { background-color: #6c757d; }

        .btn-area { margin-top: 30px; text-align: center; }
        .btn { padding: 8px 16px; text-decoration: none; border-radius: 5px; color: white; border: none; cursor: pointer; font-size: 1em; margin: 5px;}
        .btn-list { background-color: #6c757d; }
        .btn-start { background-color: #007bff; }
        .btn-cancel { background-color: #dc3545; }
    </style>
</head>
<body>

<div th:replace="layout/header :: headerFragment"></div>

<main class="main-container">
    <h2>ğŸ¥ ì˜ˆì•½ ìƒì„¸ ì •ë³´</h2>

    <div class="info-group">
        <span class="info-label">ì˜ˆì•½ ë²ˆí˜¸</span>
        <span class="info-value" th:text="${reservations.reservationNum}">1</span>
    </div>

    <div class="info-group">
        <span class="info-label">ì˜ˆì•½ ìƒíƒœ</span>
        <span class="status-badge"
              th:classappend="'status-' + ${reservations.status}"
              th:text="${reservations.statusDescription}">ì˜ˆì•½ ë¨</span>
    </div>

    <hr>

    <div class="info-group">
        <span class="info-label">í™˜ì ì´ë¦„</span>
        <span class="info-value" th:text="${reservations.patientName}">í™ê¸¸ë™</span>
    </div>

    <div class="info-group">
        <span class="info-label">ë‹´ë‹¹ ì˜ì‚¬</span>
        <span class="info-value" th:text="${reservations.doctorName}">ê¹€ë‹¥í„°</span>
    </div>

    <div class="info-group">
        <span class="info-label">ì˜ˆì•½ ì¼ì‹œ</span>
        <span class="info-value" th:text="${#temporals.format(reservations.reservationDate, 'yyyyë…„ MMì›” ddì¼ HH:mm')}">2023-12-25 10:00</span>
    </div>

    <div class="btn-area">
        <a href="#" class="btn btn-start" th:if="${reservations.status == 1}">ğŸ©º ì§„ë£Œ ì‹œì‘</a>

        <form th:if="${reservations.status == 0}"
              th:action="@{/reservations/{id}/cancel(id=${reservations.reservationNum})}"
              method="post" style="display:inline;">
            <button type="submit" class="btn btn-cancel" onclick="return confirm('ì˜ˆì•½ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ğŸš« ì˜ˆì•½ ì·¨ì†Œ</button>
        </form>

        <a href="/reservations" class="btn btn-list">ëª©ë¡ìœ¼ë¡œ</a>
    </div>
</main>

<div th:replace="layout/footer :: footerFragment"></div>

</body>
</html>