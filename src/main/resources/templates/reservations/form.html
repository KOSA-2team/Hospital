<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì˜ˆì•½ ë“±ë¡</title>
    <style>
        .main-container { max-width: 600px; margin: 30px auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px; font-family: 'Noto Sans KR', sans-serif;}
        label { display: block; margin-top: 15px; font-weight: bold; }
        select, input[type="datetime-local"] { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; margin-top: 25px; background-color: #007bff; color: white; border: none; cursor: pointer; border-radius: 4px; font-size: 16px; }
        button:hover { background-color: #0056b3; }
        .error { color: red; font-weight: bold; margin-bottom: 15px; background-color: #ffe6e6; padding: 10px; border-radius: 4px; }
        .back-link { display: block; margin-top: 15px; text-align: center; text-decoration: none; color: #555; }
    </style>
</head>
<body>

<div th:replace="layout/header :: headerFragment"></div>

<main class="main-container">
    <h2 style="text-align: center;">ğŸ¥ ì§„ë£Œ ì˜ˆì•½ ë“±ë¡</h2>

    <div th:if="${param.error}" class="error">
        âš ï¸ ì´ë¯¸ í•´ë‹¹ ì‹œê°„ì— ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤! ë‹¤ë¥¸ ì‹œê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.
    </div>

    <form action="/reservations/new" method="post">

        <label for="patientNum">í™˜ì ì„ íƒ</label>
        <select id="patientNum" name="patientNum" required>
            <option value="">-- í™˜ìë¥¼ ì„ íƒí•˜ì„¸ìš” --</option>
            <option th:each="p : ${patients}"
                    th:value="${p.patientNum}"
                    th:text="${p.name}">í™ê¸¸ë™</option>
        </select>

        <label for="medicalNum">ë‹´ë‹¹ ì˜ì‚¬ ì„ íƒ</label>
        <select id="medicalNum" name="medicalNum" required>
            <option value="">-- ì˜ì‚¬ë¥¼ ì„ íƒí•˜ì„¸ìš” --</option>
            <option th:each="d : ${doctors}"
                    th:value="${d.medicalNum}"
                    th:text="|${d.mname} (${d.specialty})|">ê¹€ë‹¥í„° (ë‚´ê³¼)</option>
        </select>

        <label for="reservationDate">ì˜ˆì•½ ì¼ì‹œ</label>
        <input type="datetime-local" id="reservationDate" name="reservationDate" required>

        <button type="submit">ì˜ˆì•½ ë“±ë¡í•˜ê¸°</button>
    </form>

    <a href="/reservations" class="back-link">â¬…ï¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
</main>

<div th:replace="layout/footer :: footerFragment"></div>

</body>
</html>