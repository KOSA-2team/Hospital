<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>예약 등록</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        select, input[type="datetime-local"] { width: 100%; padding: 8px; margin-top: 5px; }
        button { width: 100%; padding: 10px; margin-top: 20px; background-color: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .error { color: red; font-weight: bold; margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="container">
    <h2>진료 예약 등록</h2>

    <div th:if="${param.error}" class="error">
        이미 해당 시간에 예약이 존재합니다! 다른 시간을 선택해주세요.
    </div>

    <form action="/reservations/new" method="post">

        <label for="patientNum">환자 선택</label>
        <select id="patientNum" name="patientNum" required>
            <option value="">-- 환자를 선택하세요 --</option>
            <option th:each="p : ${patients}"
                    th:value="${p.patientNum}"
                    th:text="${p.name}">홍길동</option>
        </select>

        <label for="medicalNum">담당 의사 선택</label>
        <select id="medicalNum" name="medicalNum" required>
            <option value="">-- 의사를 선택하세요 --</option>
            <option th:each="d : ${doctors}"
                    th:value="${d.medicalNum}"
                    th:text="${d.mname}">김닥터</option>
        </select>

        <label for="reservationDate">예약 일시</label>
        <input type="datetime-local" id="reservationDate" name="reservationDate" required>

        <button type="submit">예약 등록하기</button>
    </form>

    <br>
    <a href="/reservations"> 목록으로 돌아가기</a>
</div>

</body>
</html>